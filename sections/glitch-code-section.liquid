{% schema %}
{
  "name": "Glitch Header",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Header Text",
      "default": "Glitch"
    },
    {
      "type": "url",
      "id": "inspiration_link",
      "label": "Inspiration Link"
    },
    {
      "type": "text",
      "id": "inspiration_text",
      "label": "Inspiration Button Text",
      "default": "Inspiration"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#F9F8F8"
    },
    {
      "type": "color",
      "id": "headline_color",
      "label": "Headline Color",
      "default": "#222222"
    },
    {
      "type": "range",
      "id": "font_size",
      "label": "Font Size (rem)",
      "min": 1,
      "max": 12,
      "step": 0.5,
      "default": 8
    },
    {
      "type": "select",
      "id": "text_transform",
      "label": "Text Transform",
      "options": [
        { "value": "uppercase", "label": "Uppercase" },
        { "value": "lowercase", "label": "Lowercase" },
        { "value": "capitalize", "label": "Capitalize" },
        { "value": "none", "label": "None" }
      ],
      "default": "uppercase"
    },
    {
      "type": "select",
      "id": "font_weight",
      "label": "Font Weight",
      "options": [
        { "value": "100", "label": "Thin" },
        { "value": "300", "label": "Light" },
        { "value": "400", "label": "Regular" },
        { "value": "600", "label": "Semi-bold" },
        { "value": "700", "label": "Bold" },
        { "value": "900", "label": "Black" }
      ],
      "default": "900"
    },
       {
      "type": "range",
      "id": "sst",
      "label": "Section Top Padding",
      "min": 0,
      "max": 120,
      "step": 5,
      "default": 60,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "ssb",
      "label": "Section Bottom Padding",
      "min": 0,
      "max": 120,
      "step": 5,
      "default": 60,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "sstm",
      "label": "Section Top Padding Mobile",
      "min": 0,
      "max": 80,
      "step": 5,
      "default": 40,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "ssbm",
      "label": "Section Bottom Padding Mobile",
      "min": 0,
      "max": 80,
      "step": 5,
      "default": 40,
      "unit": "px"
    },
  ],
  "presets": [
    {
      "name": "Glitch Header",
      "category": "Custom"
    }
  ]
}
{% endschema %}
{%-  assign section_st = section.settings -%}
<section class="glitch-section sec_cov fw-sec" style="--fs:{{ section_st.fs | default: 20 }}px;--fsm:{{ section_st.fsm | default: 18 }}px;--fw:{{ section_st.fw | default: 500 }};--lh:{{ section_st.lh | default: 1.3 }};--mb:{{ section_st.mb | default: 15 }}px;">
  <div class="glitched-text-wrapper">
    <h3 class="glitched">{{ section_st.title }}</h3>
    <div class="glitch-window" aria-hidden="true">
      <h3>{{ section_st.title }}</h3>
    </div>
  </div>

  {% if section_st.inspiration_link != blank and section_st.inspiration_text != blank %}
    <a class="inspiration-button" href="{{ section_st.inspiration_link }}" target="_blank" rel="noopener">
      {{ section_st.inspiration_text }}
    </a>
  {% endif %}
</section>
{%style %}
 .glitch-section{background-color:{{ section_st.background_color }};position:relative;text-align:center;}
.glitched-text-wrapper{position:relative;display:inline-block;}
.glitched-text-wrapper h3{font-size:{{ section_st.font_size }}rem;color:{{ section_st.headline_color }};margin:0;font-weight:{{ section_st.font_weight }};text-transform:{{ section_st.text_transform }};position:relative;z-index:1;line-height:1.2;font-family:'{{ settings.font_face_family_sec }}';}
.glitch-window{position:absolute;top:0;left:0;width:100%;height:100%;font-size:{{ section_st.font_size }}rem;font-weight:{{ section_st.font_weight }};text-transform:{{ section_st.text_transform }};color:{{ section_st.headline_color }};overflow:hidden;animation:glitch-clip 2s infinite linear alternate-reverse;pointer-events:none;z-index:2;}
.glitch-window h3{margin:0;font-size:inherit;font-weight:inherit;text-transform:inherit;color:inherit;text-shadow:2px 0 #ff00ff,-2px 0 #00ffff;line-height:1.2;}
@keyframes glitch-clip{0%{clip-path:inset(40% 0 61% 0);transform:translate(-2px,0);}5%{clip-path:inset(92% 0 1% 0);transform:translate(2px,0);}10%{clip-path:inset(43% 0 1% 0);transform:translate(-2px,0);}15%{clip-path:inset(25% 0 58% 0);transform:translate(2px,0);}20%{clip-path:inset(54% 0 7% 0);transform:translate(-2px,0);}25%{clip-path:inset(58% 0 43% 0);transform:translate(2px,0);}30%{clip-path:inset(54% 0 18% 0);transform:translate(-2px,0);}35%{clip-path:inset(45% 0 26% 0);transform:translate(2px,0);}40%{clip-path:inset(59% 0 38% 0);transform:translate(-2px,0);}45%{clip-path:inset(99% 0 6% 0);transform:translate(2px,0);}50%{clip-path:inset(32% 0 13% 0);transform:translate(-2px,0);}55%{clip-path:inset(82% 0 6% 0);transform:translate(2px,0);}60%{clip-path:inset(54% 0 29% 0);transform:translate(-2px,0);}65%{clip-path:inset(63% 0 11% 0);transform:translate(2px,0);}70%{clip-path:inset(6% 0 16% 0);transform:translate(-2px,0);}75%{clip-path:inset(84% 0 15% 0);transform:translate(2px,0);}80%{clip-path:inset(2% 0 61% 0);transform:translate(-2px,0);}85%{clip-path:inset(78% 0 15% 0);transform:translate(2px,0);}90%{clip-path:inset(52% 0 12% 0);transform:translate(-2px,0);}95%{clip-path:inset(25% 0 15% 0);transform:translate(2px,0);}100%{clip-path:inset(37% 0 5% 0);transform:translate(-2px,0);}}
.glitched-text-wrapper::before,.glitched-text-wrapper::after{position:absolute;top:0;left:0;width:100%;height:100%;font-size:{{ section_st.font_size }}rem;font-weight:{{ section_st.font_weight }};text-transform:{{ section_st.text_transform }};pointer-events:none;line-height:1.2;}
.glitched-text-wrapper::before{color:#ff00ff;animation:glitch-before 3s infinite linear alternate-reverse;z-index:-1;}
.glitched-text-wrapper::after{color:#00ffff;animation:glitch-after 2s infinite linear alternate-reverse;z-index:-2;}
@keyframes glitch-before{0%{transform:translate(2px,0);}2%{transform:translate(-2px,0);}4%{transform:translate(-2px,0);}6%{transform:translate(2px,0);}8%{transform:translate(-2px,0);}10%{transform:translate(2px,0);}12%{transform:translate(-2px,0);}14%{transform:translate(2px,0);}16%{transform:translate(-2px,0);}18%{transform:translate(2px,0);}20%{transform:translate(-2px,0);}22%{transform:translate(2px,0);}24%{transform:translate(-2px,0);}26%{transform:translate(2px,0);}28%{transform:translate(0);}100%{transform:translate(0);}}
@keyframes glitch-after{0%{transform:translate(-2px,0);}2%{transform:translate(2px,0);}4%{transform:translate(2px,0);}6%{transform:translate(-2px,0);}8%{transform:translate(2px,0);}10%{transform:translate(-2px,0);}12%{transform:translate(2px,0);}14%{transform:translate(-2px,0);}16%{transform:translate(2px,0);}18%{transform:translate(-2px,0);}20%{transform:translate(2px,0);}22%{transform:translate(-2px,0);}24%{transform:translate(2px,0);}26%{transform:translate(-2px,0);}28%{transform:translate(0);}100%{transform:translate(0);}}
.inspiration-button{display:inline-block;margin-top:2rem;padding:0.75rem 1.5rem;background:linear-gradient(270deg,#1e80dc,#c61590);color:white;text-decoration:none;border-radius:80px;transition:transform 250ms ease;font-weight:500;}
.inspiration-button:hover,.inspiration-button:focus,.inspiration-button:active{transform:translateY(-5px);color:white;text-decoration:none;}
@media (max-width:768px){.glitched-text-wrapper h3{font-size:calc({{ section_st.font_size }}rem * 0.6);}.glitch-window{font-size:calc({{ section_st.font_size }}rem * 0.6);}.glitched-text-wrapper::before,.glitched-text-wrapper::after{font-size:calc({{ section_st.font_size }}rem * 0.6);}}
{% endstyle %}